# Claude Code 設定

## 言語設定

**重要**: 必ず日本語で応答してください。すべての会話、説明、コメント、エラーメッセージを日本語で行ってください。

## プロジェクト概要

このプロジェクトは Twitter アカウント管理ダッシュボードアプリケーションです。

### 主な機能

- Twitter アカウントの一覧表示と管理
- アカウント作成数の統計情報
- 時系列での作成推移の可視化
- アカウント状態の監視
- システム設定とセキュリティ管理

### 技術スタック

- **フレームワーク**: Next.js 15 (App Router)
- **言語**: TypeScript
- **スタイリング**: Tailwind CSS
- **データベース**: Supabase
- **チャート**: Recharts
- **アイコン**: Lucide React

## データベース構造

```sql
create table public.twitter_create_logs (
  id bigint generated by default as identity not null,
  created_at timestamp without time zone not null default now(),
  twitter_id text null,
  twitter_pass text null,
  twitter_2fa_code text null,
  ct0 text null,
  create_ip text null,
  email_id text null,
  email text null,
  device_base64 text null,
  app_login text null,
  constraint twitter_create_logs_pkey primary key (id),
  constraint twitter_create_logs_twitter_id_key unique (twitter_id)
) TABLESPACE pg_default;
```

## ページ構成

- `/` - ホームダッシュボード（概要と主要統計）
- `/stats` - 詳細統計情報（チャートとグラフ）
- `/accounts` - アカウント一覧（検索・フィルター機能付き）
- `/trends` - 作成推移分析（時系列チャート）
- `/settings` - システム設定

## 環境設定

`.env.local`ファイルに以下の設定が必要です：

```
NEXT_PUBLIC_SUPABASE_URL=your-supabase-url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-supabase-anon-key
```

## 開発コマンド

- `npm run dev` - 開発サーバー起動
- `npm run build` - プロダクションビルド
- `npm run start` - プロダクションサーバー起動
- `npm run lint` - ESLint チェック

## 作業指針

- コードの説明や質問への回答は日本語で行う
- コメントを追加する場合は日本語で記載する
- エラーや問題の説明も日本語で提供する
- Supabase との連携部分では実際のデータ取得処理を実装する際に注意

# Gemini コマンドに 20 秒のタイムアウトを設定

result = subprocess.run(
['gemini', '-p', prompt],
capture_output=True,
text=True,
timeout=20
)

# 差分の詳細を取得（最大 5000 文字）

diff_output = diff_output[:5000] if len(diff_output) > 5000 else diff_output

# AUTO_PUSH が 1 の場合のみプッシュを実行

if os.environ.get('CLAUDE_CODE_AUTO_PUSH', '0') == '1':
subprocess.run(['git', 'push'], check=True)
